<div *ngIf="dataSource" class="example-container mat-elevation-z8">
  <div class="route-filter">
    <mat-chip-list>
      <mat-chip color="primary" selected="true">All</mat-chip>
      <mat-chip color="primary" selected="true">Boulder</mat-chip>
      <mat-chip color="primary" selected="true">Lead</mat-chip>
      <mat-chip color="primary" selected="true">Top-Rope</mat-chip>
    </mat-chip-list>
  </div>
  <div class="route-filter">
    <mat-chip-list>
      <mat-chip color="accent" selected="true">All</mat-chip>
      <mat-chip color="accent" selected="true">Zone 1</mat-chip>
      <mat-chip color="accent" selected="true">Zone 2</mat-chip>
      <mat-chip color="accent" selected="true">Zone 3</mat-chip>
      <mat-chip color="accent" selected="true">Zone 4</mat-chip>
    </mat-chip-list>
  </div>
  <mat-table #table [dataSource]="dataSource">
    <ng-container matColumnDef="grade">
      <mat-header-cell color="primary" *matHeaderCellDef>Route</mat-header-cell>
      <mat-cell *matCellDef="let element">
        <div class="route-info-container">
          <div class="color-cell" [style.background-color]="'#' + element.color"></div>
          <div class="text-cell">
            <div class="route-grade">
              G: {{element.grade}}
            </div>
            <div class="route-setter">
              S: {{element.setter}}
            </div>
          </div>
        </div>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="attempt">
      <mat-header-cell color="primary" *matHeaderCellDef>attempt</mat-header-cell>
      <mat-cell *matCellDef="let element">
        <i class="fa fa-angle-double-down control-icon remove" aria-hidden="true" (click)="removeAttempt(element._id)"></i>
        <span class="route-counter">{{getAttempts(element._id)}}</span>
        <i class="fa fa-angle-double-up control-icon add" aria-hidden="true" (click)="addAttempt(element._id)"></i>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="complete">
      <mat-header-cell color="primary" *matHeaderCellDef>complete</mat-header-cell>
      <mat-cell *matCellDef="let element">
        <i class="fa fa-angle-double-down control-icon remove" aria-hidden="true" (click)="removeComplete(element._id)"></i>
        <span class="route-counter">{{getCompleted(element._id)}}</span>
        <i class="fa fa-angle-double-up control-icon add" aria-hidden="true" (click)="addComplete(element._id)"></i>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="rate">
      <mat-header-cell color="primary" *matHeaderCellDef>rate</mat-header-cell>
      <mat-cell *matCellDef="let element">
        <app-rate [routeId]="element.id" class="rate-component"></app-rate>
      </mat-cell>
    </ng-container>


    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row class="session-row" *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
</div>